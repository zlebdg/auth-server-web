(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0+Ye":function(e,t,a){e.exports={registerCaptcha:"antd-pro-components-img-register-captcha-registerCaptcha"}},"13DY":function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var l=r(a("d6i3"));a("miYZ");var s=r(a("tsqr")),u=r(a("1l/V"));function n(e,t,a){return c.apply(this,arguments)}function c(){return c=(0,u.default)(l.default.mark(function e(t,a,r){var u;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return u=new FormData,u.append("username",t),u.append("email",a),u.append("captcha",r),e.abrupt("return",fetch("/auth/register",{method:"post",body:u,headers:{Accept:"application/json","Cache-Control":"no-cache"},credentials:"include"}).then(function(e){return e.json()}).catch(function(e){console.log(e),s.default.error(e)}));case 5:case"end":return e.stop()}},e)})),c.apply(this,arguments)}},Gimv:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var s=r(a("2/Rp"));a("14J3");var u=r(a("BMrR"));a("jCWc");var n=r(a("kPKH"));a("O3gP");var c=r(a("lrIw"));a("5NDa");var f=r(a("5rEg"));a("Pwec");var i=r(a("CtXQ"));a("miYZ");var d=r(a("tsqr")),o=r(a("2Taf")),m=r(a("vZ4D")),p=r(a("l4Ni")),h=r(a("ujKo")),g=r(a("MhPg"));a("y8nQ");var v,y,E,M=r(a("Vl3Y")),b=l(a("q1tI")),w=a("Y2fQ"),x=r(a("WxbV")),j=r(a("jZj9")),C=r(a("13DY")),k=(v=M.default.create(),v((E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(l))),a.state={emailSuffix:[]},a.handleEmail=function(e){a.setState({emailSuffix:!e||e.indexOf("@")>=0?[]:["".concat(e,"@qq.com"),"".concat(e,"@163.com"),"".concat(e,"@gmail.com"),"".concat(e,"@live.cn")]})},a.handleOk=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),(0,C.default)(t.username,t.email,t.captcha).then(function(e){console.log(e),e&&200===e.code?d.default.success((0,w.formatMessage)({id:"\u6ce8\u518c\u6210\u529f! \u8bf7\u68c0\u67e5\u4f60\u7684\u90ae\u7bb1\u5e76\u5b8c\u6210\u9a8c\u8bc1"})):d.default.error(e.message)}))})},a}return(0,g.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator;return b.default.createElement(u.default,{justify:"space-around",type:"flex"},b.default.createElement(n.default,{xs:16,sm:12,md:8,lg:6,xl:4},b.default.createElement(M.default,null,b.default.createElement(M.default.Item,null,t("username",{rules:[{required:!0,message:(0,w.formatMessage)({id:"user.register.username.errorMessage"})}]})(b.default.createElement(f.default,{name:"username",suffix:b.default.createElement(i.default,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),onPressEnter:this.handleOk,placeholder:(0,w.formatMessage)({id:"user.register.username"})}))),b.default.createElement(M.default.Item,null,t("email",{rules:[{required:!0,message:(0,w.formatMessage)({id:"user.register.email.errorMessage"})}]})(b.default.createElement(c.default,{name:"email",dataSource:this.state.emailSuffix,onChange:this.handleEmail,placeholder:(0,w.formatMessage)({id:"user.register.email"})},b.default.createElement(f.default,{suffix:b.default.createElement(i.default,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})})))),b.default.createElement(u.default,{type:"flex",justify:"space-between"},b.default.createElement(n.default,{span:12},b.default.createElement(M.default.Item,null,t("captcha",{rules:[{required:!0,message:(0,w.formatMessage)({id:"user.register.captcha.errorMessage"})}]})(b.default.createElement(f.default,{name:"captcha",suffix:b.default.createElement(i.default,{type:"safety-certificate",style:{color:"rgba(0,0,0,.25)"}}),placeholder:(0,w.formatMessage)({id:"user.register.captcha"})})))),b.default.createElement(n.default,{xs:10,span:8},b.default.createElement(j.default,{src:"http://192.168.124.95:20010/captcha",alt:(0,w.formatMessage)({id:"user.register.captcha.alt"}),tips:(0,w.formatMessage)({id:"user.register.captcha.tips"})}))),b.default.createElement(u.default,null,b.default.createElement(s.default,{type:"primary",className:x.default.button,onClick:this.handleOk},b.default.createElement(w.FormattedMessage,{id:"user.Register"}))))))}}]),t}(b.PureComponent),y=E))||y),P=k;t.default=P},jZj9:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5Dmo");var s=l(a("3S7+")),u=l(a("2Taf")),n=l(a("vZ4D")),c=l(a("l4Ni")),f=l(a("ujKo")),i=l(a("MhPg")),d=r(a("q1tI")),o=l(a("0+Ye")),m=function(e){function t(){var e,a;(0,u.default)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(0,c.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(l))),a.state={src:a.props.src,tips:a.props.tips,alt:a.props.alt},a}return(0,i.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this,t=function(){e.setState({src:"".concat(e.props.src,"?").concat(Math.random())})};return d.default.createElement(s.default,{title:this.state.tips,onClick:t,style:{pull:"right"}},d.default.createElement("img",{src:this.state.src,alt:this.state.alt,className:o.default.registerCaptcha}))}}]),t}(d.Component);t.default=m}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{Gimv:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var s=l(a("2/Rp"));a("14J3");var u=l(a("BMrR"));a("jCWc");var n=l(a("kPKH"));a("O3gP");var f=l(a("lrIw"));a("5NDa");var d=l(a("5rEg"));a("Pwec");var c=l(a("CtXQ")),i=l(a("2Taf")),m=l(a("vZ4D")),o=l(a("l4Ni")),g=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var h,E,y,v=l(a("Vl3Y")),M=r(a("q1tI")),x=a("Y2fQ"),w=l(a("Mbp2")),b=l(a("XpOZ")),k=a("13DY"),P=l(a("wY1l")),S=l(a("3a4m")),I=(h=v.default.create(),h((y=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return a=(0,o.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(r))),a.state={emailSuffix:[],captcha:"/captcha"},a.handleEmail=function(e){a.setState({emailSuffix:!e||e.indexOf("@")>=0?[]:["".concat(e,"@qq.com"),"".concat(e,"@163.com"),"".concat(e,"@gmail.com"),"".concat(e,"@live.cn")]})},a.handleOk=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),sessionStorage.setItem("register.username",t.username),sessionStorage.setItem("register.email",t.email),(0,k.register)(t.username,t.email,t.captcha).then(function(e){console.log(e),null!=e&&200===e.code?S.default.push("/blank/user/register/waitingForEmail"):a.setState({captcha:"/captcha?".concat(Math.random())})}))})},a}return(0,p.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator;return M.default.createElement(u.default,{justify:"space-around",type:"flex",className:w.default.main},M.default.createElement(n.default,{xs:16,sm:12,md:8,lg:6,xl:4},M.default.createElement(v.default,null,M.default.createElement(v.default.Item,null,t("username",{rules:[{required:!0,message:(0,x.formatMessage)({id:"user.register.username.errorMessage"})}]})(M.default.createElement(d.default,{name:"username",suffix:M.default.createElement(c.default,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),onPressEnter:this.handleOk,placeholder:(0,x.formatMessage)({id:"user.register.username"})}))),M.default.createElement(v.default.Item,null,t("email",{rules:[{required:!0,message:(0,x.formatMessage)({id:"user.register.email.errorMessage"})}]})(M.default.createElement(f.default,{name:"email",dataSource:this.state.emailSuffix,onChange:this.handleEmail,placeholder:(0,x.formatMessage)({id:"user.register.email"})},M.default.createElement(d.default,{suffix:M.default.createElement(c.default,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})})))),M.default.createElement(v.default.Item,null,M.default.createElement(u.default,{type:"flex",justify:"space-between"},M.default.createElement(n.default,{span:12},t("captcha",{rules:[{required:!0,message:(0,x.formatMessage)({id:"user.register.captcha.errorMessage"})}]})(M.default.createElement(d.default,{name:"captcha",suffix:M.default.createElement(c.default,{type:"safety-certificate",style:{color:"rgba(0,0,0,.25)"}}),placeholder:(0,x.formatMessage)({id:"user.register.captcha"}),autoComplete:"off"}))),M.default.createElement(n.default,{xs:10,span:8},M.default.createElement(b.default,{src:this.state.captcha,alt:(0,x.formatMessage)({id:"user.register.captcha.alt"}),tips:(0,x.formatMessage)({id:"user.register.captcha.tips"})})))),M.default.createElement(u.default,null,M.default.createElement(s.default,{type:"primary",className:w.default.button,onClick:this.handleOk},M.default.createElement(x.FormattedMessage,{id:"user.Register"}))),M.default.createElement(u.default,null,M.default.createElement(n.default,{span:12,style:{textAlign:"left"}},M.default.createElement(P.default,{to:"/user/reset"},M.default.createElement(s.default,{type:"link",style:{padding:"0"}},M.default.createElement(x.FormattedMessage,{id:"user.register.forgetPassword"})))),M.default.createElement(n.default,{span:12,style:{textAlign:"right"}},M.default.createElement(P.default,{to:"/user/login"},M.default.createElement(s.default,{type:"link",style:{padding:"0"}},M.default.createElement(x.FormattedMessage,{id:"user.register.toLogin"}),">>")))))))}}]),t}(M.PureComponent),E=y))||E),O=I;t.default=O}}]);